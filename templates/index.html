{% extends 'bootstrap/base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="shortcut icon" href="{{ url_for('static', filename='unity.png') }}">

<style>
body{
    font-size:1.5rem;
    background-color: #F4F7FC;    
}

h3.card-title{
    text-align:center;
    font-size:2rem;
    font-weight:normal;
}

p.card-text{
    text-align:center;
    font-size:3rem
}

.glyphicon-user, .glyphicon-stats, .glyphicon-phone {
    color:white;
    font-size: 15px;
    padding: 10px;
    background-color: #2469CE;    
    border-radius:50%;    
}

.card{
    border-radius: 0;
    box-shadow: 0 2px 4px rgba(126,142,177,.12);
    margin-top: 15px;
    margin-bottom: 15px;
}


@media (max-width: 600px) {
    #custom.table{
        font-size:1rem;
        width:300px;
    }
}

</style>
{% endblock %}


{% block title %}
    Corporate Diversity Data
{% endblock %}


{% block content %}

<div class="container-fluid" style="background-color: #153D77; padding-bottom: 20px;">
    <div class='row' style="padding-bottom: 20px;">
        <a class="navbar-brand" href="/" style="padding-top: 20px; padding-left: 30px;">
            <img src="{{ url_for('static', filename='unity.png') }}" height="30" class="d-inline-block align-center" alt="">                
        </a>
        <h3 style="margin-top:25px; color:white">Corporate Diversity Data</h3>
    </div>
</div>

<div class="container-fluid" style="background-color: #153D77; padding-bottom: 40px;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="jumbotron" style="padding: 10px 0px;margin-bottom: 10px; background-color: transparent; color: white;">
                    <h1>Open Diversity Data</h1>
                    <p class="lead">See what the biggest companies in the U.S. are doing to address issues of diversity and inclusion in "Corporate America".</p>
                </div>
            </div>
        </div>
    </div>
</div>       

<div class="container" style="margin-top: 20px;">
    <br>
    <div class="row">
        <div class="col-md-12">
            <h1>Fortune 100 Company Data</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4">
        <div class="card">
            <div class="card-body">
            <h3 class="card-title">Reporting<span class="glyphicon glyphicon-stats pull-right" aria-hidden="true"></span></h3>
            <p class="card-text">{{reports}}</p>
                <div class="progress">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 86%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            <p>Released a diversity report or CSR report w/ diversity info since 2018.</p>
            </div>
        </div>
        </div>
        <div class="col-sm-4">
        <div class="card">
            <div class="card-body">
            <h3 class="card-title">Leadership<span class="glyphicon glyphicon-user pull-right" aria-hidden="true"></span></h3>
            <p class="card-text">{{leaders}}</p>
                <div class="progress">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 88%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            <p>Have a person leading diversity efforts at a manager level or above.</p>
            </div>
        </div>
        </div>
        <div class="col-sm-4">
        <div class="card">
            <div class="card-body">
            <h3 class="card-title">Commitment<span class="glyphicon glyphicon-phone pull-right" aria-hidden="true"></span></h3>
            <p class="card-text">{{pages}}</p>
                <div class="progress">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 93%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>            
            <p>Created a webpage dedicated to discussing diversity & inclusion initiatives.</p>
            </div>
        </div>
        </div>          
    </div>

    <br>

    <div class="row" style="margin-top: -20px;">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <table id="custom" class="table table-bordered">
                        <tr class="active">
                            <th id="companies_td">Rank</th>
                            <th>Company</th>
                            <th>Diversity Report</th>
                            <th>Diversity Exec/VP</th>
                            <th>Diversity Page</th>
                        </tr>
                        {% for rownum,row in data.iterrows() %}
                        <tr>    
                            <td>{{row.iloc[0]}}</td>
                            <td id="companies_td">{{row.iloc[1]}}</td>
    
                            {% if (row.iloc[2]) != "N" %}
                                <td id="companies_td"><a href='{{row.iloc[3]}}' target="_blank">{{row.iloc[2]}}</a></td>
                            {% else %}
                                <td style="text-align:center" id="companies_td"></td>
                            {% endif %}
    
                            {% if (row.iloc[4]) == "Y" %}
                                <td style="text-align:center" id="companies_td"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span></td>
                            {% elif (row.iloc[4]) == "N" %}
                                <td style="text-align:center" id="companies_td"></td>              
                            {% else %}
                                <td style="text-align:center" id="companies_td">{{row.iloc[4]}}</td>
                            {% endif %}
    
                            {% if (row.iloc[5]) != "N" %}
                                <td><a href='{{row.iloc[5]}}' target="_blank" id="companies_td">Link</a></td>
                            {% else %}
                                <td id="companies_td"></td>
                            {% endif %}
    
                        </tr>
                        {% endfor %}
                    </table>   
                </div>
            </div>             
        </div>        
    </div>

    <br><br>
</div>
{% endblock %}


{% block scripts %}
{{super()}}
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
{% endblock %}