{% extends 'bootstrap/base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block styles %}
{{super()}}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<link rel="shortcut icon" href="{{ url_for('static', filename='unity.png') }}">

<meta name = "keywords" content="Corporate, Diversity, Data, Reports, EEO-1" />
<meta name = "description" content="View Corporate Diversity Reports and EEO-1 Data for Fortune 500 Companies" />

<style>
@import url(http://fonts.googleapis.com/css?family=Oswald);
/*body {
  font-family: 'Oswald', sans-serif !important;
}*/

h1{
    font-size:4rem;
}

.lead{
    font-size:2rem;
}

body{
    font-size:1.25rem;
    background-color: #F4F7FC;    
}

h3.card-title{
    text-align:center;
    font-size:1.75rem;
    font-weight:normal;
}

p.card-text{
    text-align:center;
    font-size:4rem;
}

.glyphicon-user, .glyphicon-stats, .glyphicon-globe {
    color:white;
    font-size: 15px;
    padding: 10px;
    background-color: green;    
    border-radius:50%;    
}

.card{
    border-radius: 0;
    box-shadow: 0 2px 4px rgba(126,142,177,.12);
    margin-top: 15px;
    margin-bottom: 15px;
}

.table-card.card-body{
    padding:0px;
}

.table{
    margin-bottom: 0px;
}

@media (max-width: 600px) {
    #custom.table{
        font-size:1rem;
        width:300px;
    }
}

.table>tbody>tr>td{
    padding:3px;
    padding-left: 10px;    
}

</style>
{% endblock %}


{% block title %}
    Corporate Diversity Data
{% endblock %}


{% block content %}

<div class="container-fluid" style="background-color: #153D77; padding-bottom: 0px;">
    <div class='row' style="padding-bottom: 20px;">
        <a class="navbar-brand" href="/" style="padding-top: 20px; padding-left: 30px;">
        </a>
        <h3 style="margin-top:25px; color:white"></h3>
    </div>
</div>

<div class="container-fluid" style="background-color: #153D77; padding-bottom: 120px;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="jumbotron" style="padding: 10px 0px;margin-bottom: 10px; background-color: transparent; color: white;">
                    <h1>Corporate Diversity Data</h1><br>
                    <p class="lead">Centralized diversity data & reports for the biggest U.S. companies to see how various genders, races, and ethnicities are represented at various levels in "Corporate America".</p>
                </div>
            </div>
        </div>
    </div>
</div>       

<div class="container" style="margin-top: -100px;">

    <div class="row">
        <div class="col-sm-4">
        <div class="card">
            <div class="card-body">
            <h3 class="card-title">Companies Collected<span class="glyphicon glyphicon-stats pull-right" aria-hidden="true"></span></h3>
            <p class="card-text">{{reports}}</p>
            <p>We've collected official & detailed diversity data for large U.S. corporations.</p>
            </div>
        </div>
        </div>
        <div class="col-sm-4">
        <div class="card">
            <div class="card-body">
            <h3 class="card-title">Fortune 500 Coverage<span class="glyphicon glyphicon-globe pull-right" aria-hidden="true"></span></h3>
            <p class="card-text">{{fortune500}}%</p>         
            <p>Our data covers the small percentage of corporations willing to publicly disclose their data.</p>
            </div>
        </div>
        </div> 
        <div class="col-sm-4">
        <div class="card">
            <div class="card-body">
            <h3 class="card-title">Employees Included<span class="glyphicon glyphicon-user pull-right" aria-hidden="true"></span></h3>
            <p class="card-text">{{employees}}</p>
            <p>Our data includes employee gender, race/ethnicity, and job level for each company collected.</p>
            </div>
        </div>
        </div>         
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="card">
            <div class="card-body table-card">
            <div style="padding: 10px">
                <h1>Reporting</h1>
                <p class="lead">Analyze the detailed gender, race/ethnicity, and job level data for every company we've compiled.</p>
                <a href="{{ url_for('static', filename='eeo_cleaned.xlsx') }}" class="btn btn-outline-primary" download><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Download Raw Data (.xlsx)</a>                
            </div>
            <div class='tableauPlaceholder' id='viz1605384266910' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CorporateDiversityData&#47;Dashboard&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='CorporateDiversityData&#47;Dashboard' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CorporateDiversityData&#47;Dashboard&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1605384266910');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.minWidth='455px';vizElement.style.maxWidth='1155px';vizElement.style.width='100%';vizElement.style.height='919px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.minWidth='455px';vizElement.style.maxWidth='1155px';vizElement.style.width='100%';vizElement.style.height='919px';} else { vizElement.style.width='100%';vizElement.style.height='1427px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
            </div>
            </div>
        </div>
    </div>

    <br><br>

    <div class="row" style="margin-top: -20px;">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body table-card">
                    <div style="padding: 10px">
                        <h1>The Companies and Data</h1>
                        <p class="lead">We've compiled diversity data for as many Fortune 500 and S&P 500 companies as possible.</p>
                    </div>
                    <table id="custom" class="table">
                        <thead>
                            <tr>
                                <th>Company</th>                                
                                <th>Fortune 500 Rank</th>
                                <th>S&P 500</th>                                
                                <th>Diversity Data</th>
                            </tr>
                        </thead>
                        {% for rownum,row in data.iterrows() %}

                            {% if (row.iloc[6]) != "N" %}
                                <tr>    
                                    <td>{{row.iloc[1]}}</td>
                                    <td>{{row.iloc[0]}}</td>
                                    <td>{{row.iloc[2]}}</td>
                                    <td><a href='{{row.iloc[8]}}' target="_blank">{{row.iloc[6]}}</a></td>
                                </tr>
                            {% else %}
                            {% endif %}

                        {% endfor %}
                    </table>   
                </div>
            </div>             
        </div>        
    </div>

    <br><br>

</div>


<div class="container-fluid"  style="background-color: #4E2A84;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div style="padding:50px; color: white;">
                    <h1 class="text-center">About the Data</h1><br><br>
                    <h3 style="font-weight: lighter">All companies in the U.S. who have 100 or more employees are required to file
                    EEO-1 reports with the federal government. EEO-1 reports provide the number of employees by gender and race/ethnicity for each job level.
                    While companies are required to provide this report to the federal government, they are NOT required to share with the public and most do not. 
                    However, the companies whose data we've collected have choosen to do so.</h3><br />
                    <h3>To learn more about the different EEO-1 job levels, click <a href="https://www.eeoc.gov/employers/eeo-1-survey/eeo-1-job-classification-guide-2010" target="_blank">here.</a></h3><br />
                    <h3>To learn more about the different EEO-1 gender and race/ethnicity categories, click <a href="https://www.eeoc.gov/employers/eeo-1-survey/eeo-1-instruction-booklet" target="_blank">here.</a></h3><br />
                    <h3>To see aggregated EEO-1 Data across all U.S. companies and various industries, check out EEO's "EEOC Explore" tool <a href="https://www.eeoc.gov/statistics/employment/jobpatterns/eeo1" target="_blank">here.</a></h3><br />
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div style="padding:50px; color: black;">
                    <h1 class="text-center">Have feedback?</h1><br><br>
                    <h3 style="font-weight: lighter" class="text-center">Reach out to <a href="https://www.linkedin.com/in/maxmershon/" target="_blank">Max Mershon</a> (mershon.max16@gmail.com).</h3>
                </div>
            </div>
        </div>
    </div>
</div>

<hr style="background-color: black; margin:0px">

<div class="container-fluid" style="background-color: #153D77;">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <br><br>
                <p style="color:white;">&#169; 2020 Corporate Diversity Data</p>
                <br>
            </div>
        </div>
    </div>
</div>

{% endblock %}


{% block scripts %}
{{super()}}
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
{% endblock %}